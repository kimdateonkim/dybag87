<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>360vr</title>
</head>

<body>
  <div class="slideList"></div>
  <input type="range" class="slider" max="100" min="0" value="0">
  <script>
    const slideList = document.querySelector(".slideList")
    //이미지 요소를 .slideList의 자식요소로 추가
    for (let i = 0; i < 120; i++) {//120회 반복
      //p요소와 img요소를 생성
      const p = document.createElement("p")
      const img = document.createElement("img")
      //img요소의 src속성과 alt속성을 적용
      img.setAttribute("src", `img/Picanto_Green_${i}.jpg`);
      img.setAttribute("alt", `image${i}`);
      //img요소를 p요소에 담고 p요소를 slideList에 담아줍니다
      p.appendChild(img)
      slideList.appendChild(p)
    }

    //슬라이드 리스트의 모든 p요소를 변수에 할당
    const imgList = document.querySelectorAll(".slideList > p");
    //console.log(imgList)
    //슬라이더 요소를 변수에 할당
    const slider = document.querySelector(".slider")

    //초기 이미지 표시
    imgList.forEach((img, idx) => {
      img.style.display = "none" //모든 이미지를 숨김
    })

    //첫번째 이미지만 표시
    imgList[0].style.display = "block"

    //슬라이드 시퀀스의 시작과 끝 인덱스를 설정
    const start = 0;
    const end = imgList.length - 1; //end는 119됩니다.

    //슬라이더에 input이벤트 생성
    slider.addEventListener("input", () => {
      //슬라이더의 현재 값 가져오기
      const sliderValue = slider.value;
      console.log(sliderValue)

      //비례식을 이용하여 이미지 인덱스 계산
      const imgIndex = Math.round((sliderValue / 100) * end)

      imgList.forEach((img, idx) => {
        img.style.display = "none" //모든 이미지를 숨김
      })
      //해당 인덱스의 이미지를 표시합니다
      imgList[imgIndex].style.display = "block"
    })
  </script>
</body>

</html>